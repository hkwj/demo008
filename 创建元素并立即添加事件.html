<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset= "UTF-8">

<style>
ul,li{margin:0; padding:0; list-style:none;}
.list{overflow:hidden;}
.list li{
	float:left; margin:4px; padding:4px; 
	border:1px solid #999; cursor:pointer;
}
.list li.active{
	background:#f90; border:1px solid black;
}


</style>
<script>
window.onload=function(){
	var oT1=document.getElementById('txt1');
	var oT2=document.getElementById('txt2');
	var oBtn=document.getElementById('btn1');
	var oUl=document.getElementById('ul1');
	oBtn.onclick=function(){
		var arr=oT1.value.split(' ');
		var json={};
		for(var i=0; i<arr.length; i++){
			var key=arr[i];
			if(json[key]){
				json[key]++;
			} else {
				json[key]=1;
			}
		};

		oUl.innerHTML='';
		for(var key in json){
			var oLi=document.createElement('li');
			oLi.innerHTML=key;
			oLi.onclick=function(){
				this.className=this.className ? '' : 'active';
				var arr2=[];
				for(var i=0; i<oUl.children.length; i++){
					if(oUl.children[i].className){
						arr2.push(oUl.children[i].innerHTML);
					};
				};

				console.log(arr2);
				oT2.value=arr2.join(' ');
			};

			oUl.appendChild(oLi);
		}
	}
}


</script>
</head>
<body>

输入原始文本(空格隔开)：<br>
<textarea style="width:300px; height:200px;" id="txt1">衣服 运动鞋篮球鞋 跑步鞋 休闲鞋 帆布鞋 足球鞋 衣服 衣服 衣服 跑步鞋 跑步鞋 跑步鞋 跑步鞋 休闲鞋 帆布鞋 休闲鞋 帆布鞋 休闲鞋 帆布鞋</textarea><br>
<br>

<input type="button" value="创建" id="btn1">
<br>
这里输出结果：<br>
<ul class="list" id="ul1">
	<!-- <li>aaa</li>
	<li class="active">aaa</li> -->
</ul>
已选中：<br>
<input type="text" id="txt2" style="width:300px;">

</body>
</html> 